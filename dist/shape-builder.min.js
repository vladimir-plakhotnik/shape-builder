var o=function(o,t){this.x=o,this.y=t};var t=function(){function o(o,t,n){this.start=o,this.end=t,this.options=n}return o.prototype.draw=function(o){return o?function(o,t){var n,i,e;o.save(),(null===(n=t.options)||void 0===n?void 0:n.color)&&(o.strokeStyle=t.options.color),(null===(i=t.options)||void 0===i?void 0:i.thickness)&&(o.lineWidth=t.options.thickness),(null===(e=t.options)||void 0===e?void 0:e.dash)&&o.setLineDash(t.options.dash),o.beginPath(),o.moveTo(t.start.x,t.start.y),o.lineTo(t.end.x,t.end.y),o.stroke(),o.closePath(),o.restore()}(o,this):(s='x1="'.concat((t=this).start.x,'" y1="').concat(t.start.y,'" x2="').concat(t.end.x,'" y2="').concat(t.end.y,'"'),(null===(n=t.options)||void 0===n?void 0:n.color)&&(s+=' stroke="'.concat(t.options.color,'"')),(null===(i=t.options)||void 0===i?void 0:i.thickness)&&(s+=' stroke-width="'.concat(t.options.thickness,'"')),(null===(e=t.options)||void 0===e?void 0:e.dash)&&(s+=' stroke-dasharray="'.concat(t.options.dash.join(","),'"')),"<line ".concat(s," />"));var t,n,i,e,s},o}();var n=function(){function t(o,t){this.points=o,this.options=t}return t.prototype.draw=function(t){return t?function(t,n){var i,e,s,r,l,a;t.save(),(null===(i=n.options)||void 0===i?void 0:i.fillColor)&&(t.fillStyle=n.options.fillColor),(null===(e=n.options)||void 0===e?void 0:e.borderColor)&&(t.strokeStyle=n.options.borderColor),(null===(s=n.options)||void 0===s?void 0:s.thickness)&&(t.lineWidth=n.options.thickness),(null===(r=n.options)||void 0===r?void 0:r.dash)&&t.setLineDash(n.options.dash);var c=new o(n.points[0].x,n.points[0].y);t.beginPath(),t.moveTo(c.x,c.y);for(var d=1;d<n.points.length;d++){var v=new o(n.points[d].x,n.points[d].y);t.lineTo(v.x,v.y)}(null===(l=n.options)||void 0===l?void 0:l.fillColor)&&t.fill(),(null===(a=n.options)||void 0===a?void 0:a.borderColor)&&t.stroke(),t.closePath(),t.restore()}(t,this):function(o){for(var t,n,i,e,s="M".concat(o.points[0].x," ").concat(o.points[0].y),r=1;r<o.points.length;r++)s+=" L".concat(o.points[r].x," ").concat(o.points[r].y);return s='d="'.concat(s,'"'),(null===(t=o.options)||void 0===t?void 0:t.fillColor)?s+=' fill="'.concat(o.options.fillColor,'"'):s+=' fill="none"',(null===(n=o.options)||void 0===n?void 0:n.borderColor)&&(s+=' stroke="'.concat(o.options.borderColor,'"')),(null===(i=o.options)||void 0===i?void 0:i.thickness)&&(s+=' stroke-width="'.concat(o.options.thickness,'"')),(null===(e=o.options)||void 0===e?void 0:e.dash)&&(s+=' stroke-dasharray="'.concat(o.options.dash.join(","),'"')),"<path ".concat(s," />")}(this)},t}();var i=function(){function o(o,t,n,i){this.coordinates=o,this.width=t,this.height=n,this.options=i}return o.prototype.draw=function(o){return o?function(o,t){var n,i,e,s,r,l;o.save(),(null===(n=t.options)||void 0===n?void 0:n.fillColor)&&(o.fillStyle=t.options.fillColor),(null===(i=t.options)||void 0===i?void 0:i.borderColor)&&(o.strokeStyle=t.options.borderColor),(null===(e=t.options)||void 0===e?void 0:e.thickness)&&(o.lineWidth=t.options.thickness),(null===(s=t.options)||void 0===s?void 0:s.dash)&&o.setLineDash(t.options.dash),(null===(r=t.options)||void 0===r?void 0:r.fillColor)&&o.fillRect(t.coordinates.x,t.coordinates.y,t.width,t.height),(null===(l=t.options)||void 0===l?void 0:l.borderColor)&&o.strokeRect(t.coordinates.x,t.coordinates.y,t.width,t.height),o.restore()}(o,this):function(o){var t,n,i,e,s=o.coordinates.x,r=o.width;r<0&&(s+=o.width,r=Math.abs(r));var l=o.coordinates.y,a=o.height;a<0&&(l+=o.height,a=Math.abs(a));var c='x="'.concat(s,'" y="').concat(l,'" width="').concat(r,'" height="').concat(a,'"');return(null===(t=o.options)||void 0===t?void 0:t.fillColor)?c+=' fill="'.concat(o.options.fillColor,'"'):c+=' fill="none"',(null===(n=o.options)||void 0===n?void 0:n.borderColor)&&(c+=' stroke="'.concat(o.options.borderColor,'"')),(null===(i=o.options)||void 0===i?void 0:i.thickness)&&(c+=' stroke-width="'.concat(o.options.thickness,'"')),(null===(e=o.options)||void 0===e?void 0:e.dash)&&(c+=' stroke-dasharray="'.concat(o.options.dash.join(","),'"')),"<rect ".concat(c," />")}(this)},o}();var e=function(){function o(o,t,n){this.center=o,this.radius=t,this.options=n}return o.prototype.draw=function(o){return o?function(o,t){var n,i,e,s,r;o.save(),(null===(n=t.options)||void 0===n?void 0:n.fillColor)&&(o.fillStyle=t.options.fillColor),(null===(i=t.options)||void 0===i?void 0:i.borderColor)&&(o.strokeStyle=t.options.borderColor),(null===(e=t.options)||void 0===e?void 0:e.thickness)&&(o.lineWidth=t.options.thickness),(null===(s=t.options)||void 0===s?void 0:s.dash)&&o.setLineDash(t.options.dash),o.beginPath(),o.arc(t.center.x,t.center.y,t.radius,0,2*Math.PI,!1),o.closePath(),(null===(r=t.options)||void 0===r?void 0:r.fillColor)&&o.fill(),o.stroke(),o.restore()}(o,this):(r='cx="'.concat((t=this).center.x,'" cy="').concat(t.center.y,'" r="').concat(t.radius,'"'),(null===(n=t.options)||void 0===n?void 0:n.fillColor)?r+=' fill="'.concat(t.options.fillColor,'"'):r+=' fill="none"',(null===(i=t.options)||void 0===i?void 0:i.borderColor)&&(r+=' stroke="'.concat(t.options.borderColor,'"')),(null===(e=t.options)||void 0===e?void 0:e.thickness)&&(r+=' stroke-width="'.concat(t.options.thickness,'"')),(null===(s=t.options)||void 0===s?void 0:s.dash)&&(r+=' stroke-dasharray="'.concat(t.options.dash.join(","),'"')),"<circle ".concat(r," />"));var t,n,i,e,s,r},o}();function s(o){var t="";return o.style&&(t="".concat(o.style," ")),o.variant&&(t+="".concat(o.variant," ")),o.weight&&(t+="".concat(o.weight," ")),o.stretch&&(t+="".concat(o.stretch," ")),o.size&&(t+="".concat(o.size," ")),o.lineHeight&&(t+="".concat(o.lineHeight," ")),o.family&&(t+="".concat(o.family)),t.trim()}var r=function(){function o(o,t,n){this.coordinates=o,this.text=t,this.options=n}return o.prototype.draw=function(o){return o?function(o,t){var n,i,e,r;o.save(),(null===(n=t.options)||void 0===n?void 0:n.color)&&(o.fillStyle=t.options.color),(null===(i=t.options)||void 0===i?void 0:i.font)&&(o.font=s(t.options.font)),(null===(e=t.options)||void 0===e?void 0:e.text)&&(o.textAlign=t.options.text.align,o.textBaseline=t.options.text.baseline),(null===(r=t.options)||void 0===r?void 0:r.rotate)?(o.translate(t.coordinates.x,t.coordinates.y),o.rotate(t.options.rotate*Math.PI/180),o.fillText(t.text,0,0)):o.fillText(t.text,t.coordinates.x,t.coordinates.y),o.restore()}(o,this):function(o){var t,n,i,e,s,r,l,a,c,d,v,h,p,u,f,y,x,k,g,w,b;switch(b=(null===(t=o.options)||void 0===t?void 0:t.rotate)?'x="0" y="0" transform="translate('.concat(o.coordinates.x,", ").concat(o.coordinates.y,") rotate(").concat(o.options.rotate,')"'):'x="'.concat(o.coordinates.x,'" y="').concat(o.coordinates.y,'"'),(null===(n=o.options)||void 0===n?void 0:n.color)&&(b+=' fill="'.concat(o.options.color,'"')),(null===(e=null===(i=o.options)||void 0===i?void 0:i.font)||void 0===e?void 0:e.family)&&(b+=' font-family="'.concat(o.options.font.family,'"')),(null===(r=null===(s=o.options)||void 0===s?void 0:s.font)||void 0===r?void 0:r.size)&&(b+=' font-size="'.concat(o.options.font.size,'"')),(null===(a=null===(l=o.options)||void 0===l?void 0:l.font)||void 0===a?void 0:a.style)&&(b+=' font-style="'.concat(o.options.font.style,'"')),(null===(d=null===(c=o.options)||void 0===c?void 0:c.font)||void 0===d?void 0:d.weight)&&(b+=' font-weight="'.concat(o.options.font.weight,'"')),(null===(h=null===(v=o.options)||void 0===v?void 0:v.font)||void 0===h?void 0:h.variant)&&(b+=' font-variant="'.concat(o.options.font.variant,'"')),(null===(u=null===(p=o.options)||void 0===p?void 0:p.font)||void 0===u?void 0:u.stretch)&&(b+=' font-stretch="'.concat(o.options.font.stretch,'"')),(null===(y=null===(f=o.options)||void 0===f?void 0:f.font)||void 0===y?void 0:y.kerning)&&(b+=' font-kerning="'.concat(o.options.font.kerning,'"')),null===(k=null===(x=o.options)||void 0===x?void 0:x.text)||void 0===k?void 0:k.align){case"center":b+=' text-anchor="middle"';break;case"right":case"end":b+=' text-anchor="end"';break;default:b+=' text-anchor="start"'}switch(null===(w=null===(g=o.options)||void 0===g?void 0:g.text)||void 0===w?void 0:w.baseline){case"top":case"hanging":b+=' dominant-baseline="hanging"';break;case"alphabetic":b+=' dominant-baseline="alphabetic"';break;case"ideographic":b+=' dominant-baseline="ideographic"';break;case"middle":b+=' dominant-baseline="middle"';break;default:b+=' dominant-baseline="auto"'}return"<text ".concat(b,">").concat(o.text,"</text>")}(this)},o.measure=function(o,t,n){n&&(o.save(),o.font=s(n));var i=o.measureText(t);return n&&o.restore(),i},o.fitIntoBox=function(o,t,n,i){o.save(),i&&(o.font=s(i));var e=o.font.split(" "),r=e.findIndex((function(o){return/\d+px/.test(o.trim())}));if(-1===r)throw new Error("Font size does not found in an image context");var l=parseInt(e[r]);if(!l)throw new Error("Font size does not found in an image context");var a=function(){e[r]="".concat(l,"px"),o.font=e.join(" ")},c=function(t){return o.measureText(t).width},d=function(t){return o.measureText(t).actualBoundingBoxAscent+o.measureText(t).actualBoundingBoxDescent};if(c(t)>n.width||d(t)>n.height)for(;c(t)>n.width||d(t)>n.height;)l--,a();else{for(;c(t)<n.width&&d(t)<n.height;)l++,a();(c(t)>n.width||d(t)>n.height)&&l--}return o.restore(),l},o}();var l=function(){function o(o){this.shapes=o}return o.prototype.draw=function(o,t){if("function"==typeof o||"object"==typeof o)return n=o,void this.shapes.forEach((function(o){return o.draw(n)}));var n;if("number"==typeof o&&"number"==typeof t)return function(o,t,n){return'<svg width="'.concat(o,'" height="').concat(t,'">\n').concat(n.shapes.map((function(o){return o.draw()})).join("\n"),"\n</svg>")}(o,t,this);throw new TypeError("Wrong arguments.")},o}();export{l as Builder,e as Circle,n as Curve,t as Line,o as Point,i as Rectangle,r as Text};
//# sourceMappingURL=shape-builder.min.js.map
