var o=function(o,t){this.x=o,this.y=t};var t=function(){function o(o,t,n){this.start=o,this.end=t,this.options=n}return o.prototype.draw=function(o){return o?function(o,t){var n,i,s;o.save(),(null===(n=t.options)||void 0===n?void 0:n.color)&&(o.strokeStyle=t.options.color),(null===(i=t.options)||void 0===i?void 0:i.thickness)&&(o.lineWidth=t.options.thickness),(null===(s=t.options)||void 0===s?void 0:s.dash)&&o.setLineDash(t.options.dash),o.beginPath(),o.moveTo(t.start.x,t.start.y),o.lineTo(t.end.x,t.end.y),o.stroke(),o.closePath(),o.restore()}(o,this):(e='x1="'.concat((t=this).start.x,'" y1="').concat(t.start.y,'" x2="').concat(t.end.x,'" y2="').concat(t.end.y,'"'),(null===(n=t.options)||void 0===n?void 0:n.color)&&(e+=' stroke="'.concat(t.options.color,'"')),(null===(i=t.options)||void 0===i?void 0:i.thickness)&&(e+=' stroke-width="'.concat(t.options.thickness,'"')),(null===(s=t.options)||void 0===s?void 0:s.dash)&&(e+=' stroke-dasharray="'.concat(t.options.dash.join(","),'"')),"<line ".concat(e," />"));var t,n,i,s,e},o}();var n=function(){function t(o,t){this.points=o,this.options=t}return t.prototype.draw=function(t){return t?function(t,n){var i,s,e,r,l,c;t.save(),(null===(i=n.options)||void 0===i?void 0:i.fillColor)&&(t.fillStyle=n.options.fillColor),(null===(s=n.options)||void 0===s?void 0:s.borderColor)&&(t.strokeStyle=n.options.borderColor),(null===(e=n.options)||void 0===e?void 0:e.thickness)&&(t.lineWidth=n.options.thickness),(null===(r=n.options)||void 0===r?void 0:r.dash)&&t.setLineDash(n.options.dash);var a=new o(n.points[0].x,n.points[0].y);t.beginPath(),t.moveTo(a.x,a.y);for(var d=1;d<n.points.length;d++){var v=new o(n.points[d].x,n.points[d].y);t.lineTo(v.x,v.y)}(null===(l=n.options)||void 0===l?void 0:l.fillColor)&&t.fill(),(null===(c=n.options)||void 0===c?void 0:c.borderColor)&&t.stroke(),t.closePath(),t.restore()}(t,this):function(o){for(var t,n,i,s,e="M".concat(o.points[0].x," ").concat(o.points[0].y),r=1;r<o.points.length;r++)e+=" L".concat(o.points[r].x," ").concat(o.points[r].y);return e='d="'.concat(e,'"'),(null===(t=o.options)||void 0===t?void 0:t.fillColor)?e+=' fill="'.concat(o.options.fillColor,'"'):e+=' fill="none"',(null===(n=o.options)||void 0===n?void 0:n.borderColor)&&(e+=' stroke="'.concat(o.options.borderColor,'"')),(null===(i=o.options)||void 0===i?void 0:i.thickness)&&(e+=' stroke-width="'.concat(o.options.thickness,'"')),(null===(s=o.options)||void 0===s?void 0:s.dash)&&(e+=' stroke-dasharray="'.concat(o.options.dash.join(","),'"')),"<path ".concat(e," />")}(this)},t}();var i=function(){function o(o,t,n,i){this.coordinates=o,this.width=t,this.height=n,this.options=i}return o.prototype.draw=function(o){return o?function(o,t){var n,i,s,e,r,l;o.save(),(null===(n=t.options)||void 0===n?void 0:n.fillColor)&&(o.fillStyle=t.options.fillColor),(null===(i=t.options)||void 0===i?void 0:i.borderColor)&&(o.strokeStyle=t.options.borderColor),(null===(s=t.options)||void 0===s?void 0:s.thickness)&&(o.lineWidth=t.options.thickness),(null===(e=t.options)||void 0===e?void 0:e.dash)&&o.setLineDash(t.options.dash),(null===(r=t.options)||void 0===r?void 0:r.fillColor)&&o.fillRect(t.coordinates.x,t.coordinates.y,t.width,t.height),(null===(l=t.options)||void 0===l?void 0:l.borderColor)&&o.strokeRect(t.coordinates.x,t.coordinates.y,t.width,t.height),o.restore()}(o,this):(r='x="'.concat((t=this).coordinates.x,'" y="').concat(t.coordinates.y,'" width="').concat(t.width,'" height="').concat(t.height,'"'),(null===(n=t.options)||void 0===n?void 0:n.fillColor)?r+=' fill="'.concat(t.options.fillColor,'"'):r+=' fill="none"',(null===(i=t.options)||void 0===i?void 0:i.borderColor)&&(r+=' stroke="'.concat(t.options.borderColor,'"')),(null===(s=t.options)||void 0===s?void 0:s.thickness)&&(r+=' stroke-width="'.concat(t.options.thickness,'"')),(null===(e=t.options)||void 0===e?void 0:e.dash)&&(r+=' stroke-dasharray="'.concat(t.options.dash.join(","),'"')),"<rect ".concat(r," />"));var t,n,i,s,e,r},o}();var s=function(){function o(o,t,n){this.center=o,this.radius=t,this.options=n}return o.prototype.draw=function(o){return o?function(o,t){var n,i,s,e,r;o.save(),(null===(n=t.options)||void 0===n?void 0:n.fillColor)&&(o.fillStyle=t.options.fillColor),(null===(i=t.options)||void 0===i?void 0:i.borderColor)&&(o.strokeStyle=t.options.borderColor),(null===(s=t.options)||void 0===s?void 0:s.thickness)&&(o.lineWidth=t.options.thickness),(null===(e=t.options)||void 0===e?void 0:e.dash)&&o.setLineDash(t.options.dash),o.beginPath(),o.arc(t.center.x,t.center.y,t.radius,0,2*Math.PI,!1),o.closePath(),(null===(r=t.options)||void 0===r?void 0:r.fillColor)&&o.fill(),o.stroke(),o.restore()}(o,this):(r='cx="'.concat((t=this).center.x,'" cy="').concat(t.center.y,'" r="').concat(t.radius,'"'),(null===(n=t.options)||void 0===n?void 0:n.fillColor)?r+=' fill="'.concat(t.options.fillColor,'"'):r+=' fill="none"',(null===(i=t.options)||void 0===i?void 0:i.borderColor)&&(r+=' stroke="'.concat(t.options.borderColor,'"')),(null===(s=t.options)||void 0===s?void 0:s.thickness)&&(r+=' stroke-width="'.concat(t.options.thickness,'"')),(null===(e=t.options)||void 0===e?void 0:e.dash)&&(r+=' stroke-dasharray="'.concat(t.options.dash.join(","),'"')),"<circle ".concat(r," />"));var t,n,i,s,e,r},o}();function e(o){var t="";return o.style&&(t="".concat(o.style," ")),o.variant&&(t+="".concat(o.variant," ")),o.weight&&(t+="".concat(o.weight," ")),o.stretch&&(t+="".concat(o.stretch," ")),o.size&&(t+="".concat(o.size," ")),o.lineHeight&&(t+="".concat(o.lineHeight," ")),o.family&&(t+="".concat(o.family)),t.trim()}var r=function(){function o(o,t,n){this.coordinates=o,this.text=t,this.options=n}return o.prototype.draw=function(o){return o?function(o,t){var n,i,s,r;o.save(),(null===(n=t.options)||void 0===n?void 0:n.color)&&(o.fillStyle=t.options.color),(null===(i=t.options)||void 0===i?void 0:i.font)&&(o.font=e(t.options.font)),(null===(s=t.options)||void 0===s?void 0:s.text)&&(o.textAlign=t.options.text.align,o.textBaseline=t.options.text.baseline),(null===(r=t.options)||void 0===r?void 0:r.rotate)?(o.translate(t.coordinates.x,t.coordinates.y),o.rotate(t.options.rotate*Math.PI/180),o.fillText(t.text,0,0)):o.fillText(t.text,t.coordinates.x,t.coordinates.y),o.restore()}(o,this):function(o){var t,n,i,s,e,r,l,c,a,d,v,h,p,u,f,y,x,k,g,w,C;if(C=(null===(t=o.options)||void 0===t?void 0:t.rotate)?'x="0" y="0" transform="translate('.concat(o.coordinates.x,", ").concat(o.coordinates.y,") rotate(").concat(o.options.rotate,')"'):'x="'.concat(o.coordinates.x,'" y="').concat(o.coordinates.y,'"'),(null===(n=o.options)||void 0===n?void 0:n.color)&&(C+=' fill="'.concat(o.options.color,'"')),(null===(s=null===(i=o.options)||void 0===i?void 0:i.font)||void 0===s?void 0:s.family)&&(C+=' font-family="'.concat(o.options.font.family,'"')),(null===(r=null===(e=o.options)||void 0===e?void 0:e.font)||void 0===r?void 0:r.size)&&(C+=' font-size="'.concat(o.options.font.size,'"')),(null===(c=null===(l=o.options)||void 0===l?void 0:l.font)||void 0===c?void 0:c.style)&&(C+=' font-style="'.concat(o.options.font.style,'"')),(null===(d=null===(a=o.options)||void 0===a?void 0:a.font)||void 0===d?void 0:d.weight)&&(C+=' font-weight="'.concat(o.options.font.weight,'"')),(null===(h=null===(v=o.options)||void 0===v?void 0:v.font)||void 0===h?void 0:h.variant)&&(C+=' font-variant="'.concat(o.options.font.variant,'"')),(null===(u=null===(p=o.options)||void 0===p?void 0:p.font)||void 0===u?void 0:u.stretch)&&(C+=' font-stretch="'.concat(o.options.font.stretch,'"')),(null===(y=null===(f=o.options)||void 0===f?void 0:f.font)||void 0===y?void 0:y.kerning)&&(C+=' font-kerning="'.concat(o.options.font.kerning,'"')),null===(k=null===(x=o.options)||void 0===x?void 0:x.text)||void 0===k?void 0:k.align){var b="center"===o.options.text.align?"middle":o.options.text.align;C+=' text-anchor="'.concat(b,'"')}return(null===(w=null===(g=o.options)||void 0===g?void 0:g.text)||void 0===w?void 0:w.baseline)&&(C+=' dominant-baseline="'.concat(o.options.text.baseline,'"')),"<text ".concat(C,">").concat(o.text,"</text>")}(this)},o.measure=function(o,t,n){n&&(o.save(),o.font=e(n));var i=o.measureText(t);return n&&o.restore(),i},o.fitIntoBox=function(o,t,n,i){o.save(),i&&(o.font=e(i));var s=o.font.split(" "),r=s.findIndex((function(o){return/\d+px/.test(o.trim())}));if(-1===r)throw new Error("Font size does not found in an image context");var l=parseInt(s[r]);if(!l)throw new Error("Font size does not found in an image context");var c=function(){s[r]="".concat(l,"px"),o.font=s.join(" ")},a=function(t){return o.measureText(t).width},d=function(t){return o.measureText(t).actualBoundingBoxAscent+o.measureText(t).actualBoundingBoxDescent};if(a(t)>n.width||d(t)>n.height)for(;a(t)>n.width||d(t)>n.height;)l--,c();else{for(;a(t)<n.width&&d(t)<n.height;)l++,c();(a(t)>n.width||d(t)>n.height)&&l--}return o.restore(),l},o}();var l=function(){function o(o){this.shapes=o}return o.prototype.draw=function(o,t){if("function"==typeof o||"object"==typeof o)return n=o,void this.shapes.forEach((function(o){return o.draw(n)}));var n;if("number"==typeof o&&"number"==typeof t)return function(o,t,n){var i=[];return n.shapes.forEach((function(o){return i.push(o.draw())})),'<svg width="'.concat(o,'" height="').concat(t,'">').concat(i.join("\n"),"</svg>")}(o,t,this);throw new TypeError("Wrong arguments.")},o}();export{l as Builder,s as Circle,n as Curve,t as Line,o as Point,i as Rectangle,r as Text};
//# sourceMappingURL=shape-builder.min.js.map
